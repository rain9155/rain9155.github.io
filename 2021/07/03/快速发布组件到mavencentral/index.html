<!DOCTYPE html>
<html>
<head>
    

    

    



    <meta charset="utf-8">
    
    
    
    
    <title>快速发布组件到mavenCentral | jianyu的博客 | 每天进步一点点</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
    <meta name="theme-color" content="#009688">
    
    
    <meta name="keywords" content="mavenCentral,gradle">
    <meta name="description" content="前言在很久之前写过一篇发布开源库到jcenter的文章，但不幸的是几个月前Jfrog发布了终止Bintray服务的声明，声明的大概意思是说2021年3月31号之后Jcenter仓库将不再接收用户的组件提交，同时将Jcenter设为只读代码仓库，无限期地提供现有组件供用户下载，也就是说目前Jcenter仓库的状态是你无法再提交组件的更新，但你可以继续下载你以前托管的组件版本，所以现在你要做的就是把你">
<meta property="og:type" content="article">
<meta property="og:title" content="快速发布组件到mavenCentral">
<meta property="og:url" content="http://yoursite.com/2021/07/03/%E5%BF%AB%E9%80%9F%E5%8F%91%E5%B8%83%E7%BB%84%E4%BB%B6%E5%88%B0mavencentral/index.html">
<meta property="og:site_name" content="jianyu的博客">
<meta property="og:description" content="前言在很久之前写过一篇发布开源库到jcenter的文章，但不幸的是几个月前Jfrog发布了终止Bintray服务的声明，声明的大概意思是说2021年3月31号之后Jcenter仓库将不再接收用户的组件提交，同时将Jcenter设为只读代码仓库，无限期地提供现有组件供用户下载，也就是说目前Jcenter仓库的状态是你无法再提交组件的更新，但你可以继续下载你以前托管的组件版本，所以现在你要做的就是把你">
<meta property="og:image" content="http://yoursite.com/2021/07/03/%E5%BF%AB%E9%80%9F%E5%8F%91%E5%B8%83%E7%BB%84%E4%BB%B6%E5%88%B0mavencentral/mavencentral1.png">
<meta property="og:image" content="http://yoursite.com/2021/07/03/%E5%BF%AB%E9%80%9F%E5%8F%91%E5%B8%83%E7%BB%84%E4%BB%B6%E5%88%B0mavencentral/mavencentral2.png">
<meta property="og:image" content="http://yoursite.com/2021/07/03/%E5%BF%AB%E9%80%9F%E5%8F%91%E5%B8%83%E7%BB%84%E4%BB%B6%E5%88%B0mavencentral/mavencentral3.png">
<meta property="og:image" content="http://yoursite.com/2021/07/03/%E5%BF%AB%E9%80%9F%E5%8F%91%E5%B8%83%E7%BB%84%E4%BB%B6%E5%88%B0mavencentral/mavencentral4.png">
<meta property="og:image" content="http://yoursite.com/2021/07/03/%E5%BF%AB%E9%80%9F%E5%8F%91%E5%B8%83%E7%BB%84%E4%BB%B6%E5%88%B0mavencentral/mavencentral5.png">
<meta property="og:image" content="http://yoursite.com/2021/07/03/%E5%BF%AB%E9%80%9F%E5%8F%91%E5%B8%83%E7%BB%84%E4%BB%B6%E5%88%B0mavencentral/mavencentral6.png">
<meta property="og:image" content="http://yoursite.com/2021/07/03/%E5%BF%AB%E9%80%9F%E5%8F%91%E5%B8%83%E7%BB%84%E4%BB%B6%E5%88%B0mavencentral/mavencentral7.png">
<meta property="article:published_time" content="2021-07-03T05:55:40.000Z">
<meta property="article:modified_time" content="2023-01-07T10:44:49.095Z">
<meta property="article:author" content="rain9155">
<meta property="article:tag" content="mavenCentral">
<meta property="article:tag" content="gradle">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://yoursite.com/2021/07/03/%E5%BF%AB%E9%80%9F%E5%8F%91%E5%B8%83%E7%BB%84%E4%BB%B6%E5%88%B0mavencentral/mavencentral1.png">
    
        <link rel="alternate" type="application/atom+xml" title="jianyu的博客" href="/atom.xml">
    
    <link rel="shortcut icon" href="/img/favicon.ico">
    <link rel="stylesheet" href="/css/style.css?v=1.7.2">
    <script>window.lazyScripts=[]</script>

    <!-- custom head -->
    

<meta name="generator" content="Hexo 4.2.1"></head>

<body>
    <div id="loading" class="active"></div>

    <aside id="menu" class="hide" >
  <div class="inner flex-row-vertical">
    <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menu-off">
        <i class="icon icon-lg icon-close"></i>
    </a>
    <div class="brand-wrap" style="background-image:url(/img/brand.jpg)">
      <div class="brand">
        <a href="/" class="avatar waves-effect waves-circle waves-light">
          <img src="/img/avatar.jpg">
        </a>
        <hgroup class="introduce">
          <h5 class="nickname">rain9155</h5>
          <a href="mailto:jianyu9155@gmail.com" title="jianyu9155@gmail.com" class="mail">jianyu9155@gmail.com</a>
        </hgroup>
      </div>
    </div>
    <div class="scroll-wrap flex-col">
      <ul class="nav">
        
            <li class="waves-block waves-effect">
              <a href="/"  >
                <i class="icon icon-lg icon-home"></i>
                Home
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/tags"  >
                <i class="icon icon-lg icon-tags"></i>
                Tags
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/categories"  >
                <i class="icon icon-lg icon-th-list"></i>
                Categories
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/archives"  >
                <i class="icon icon-lg icon-archives"></i>
                Archives
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="https://github.com/rain9155" target="_blank" >
                <i class="icon icon-lg icon-github"></i>
                Github
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="https://juejin.im/user/5b437173e51d45191d79c27a/posts" target="_blank" >
                <i class="icon icon-lg icon-gg"></i>
                Juejin
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="https://blog.csdn.net/Rain_9155" target="_blank" >
                <i class="icon icon-lg icon-eye"></i>
                CSDN
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="https://www.jianshu.com/u/93cb7ffd83e9" target="_blank" >
                <i class="icon icon-lg icon-book"></i>
                Jianshu
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/links"  >
                <i class="icon icon-lg icon-link"></i>
                Links
              </a>
            </li>
        
      </ul>
    </div>
  </div>
</aside>

    <main id="main">
        <header class="top-header" id="header">
    <div class="flex-row">
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light on" id="menu-toggle">
          <i class="icon icon-lg icon-navicon"></i>
        </a>
        <div class="flex-col header-title ellipsis">快速发布组件到mavenCentral</div>
        
        <div class="search-wrap" id="search-wrap">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="back">
                <i class="icon icon-lg icon-chevron-left"></i>
            </a>
            <input type="text" id="key" class="search-input" autocomplete="off" placeholder="搜尋">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="search">
                <i class="icon icon-lg icon-search"></i>
            </a>
        </div>
        
        
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menuShare">
            <i class="icon icon-lg icon-share-alt"></i>
        </a>
        
    </div>
</header>
<header class="content-header post-header">

    <div class="container fade-scale">
        <h1 class="title">快速发布组件到mavenCentral</h1>
        <h5 class="subtitle">
            
                <time datetime="2021-07-03T05:55:40.000Z" itemprop="datePublished" class="page-time">
  2021-07-03
</time>


	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/%E5%85%B6%E4%BB%96/">其他</a></li></ul>

            
        </h5>
    </div>

    


</header>


<div class="container body-wrap">
    
    <aside class="post-widget">
        <nav class="post-toc-wrap post-toc-shrink" id="post-toc">
            <h4>TOC</h4>
            <ol class="post-toc"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#前言"><span class="post-toc-text">前言</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#前期准备"><span class="post-toc-text">前期准备</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#1、注册Sonatype账号"><span class="post-toc-text">1、注册Sonatype账号</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#2、申请groupId"><span class="post-toc-text">2、申请groupId</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#3、生成gpg签名信息"><span class="post-toc-text">3、生成gpg签名信息</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#发布到OSSRH"><span class="post-toc-text">发布到OSSRH</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#同步到MavenCentral"><span class="post-toc-text">同步到MavenCentral</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#结语"><span class="post-toc-text">结语</span></a></li></ol>
        </nav>
    </aside>


<article id="post-快速发布组件到mavencentral"
  class="post-article article-type-post fade" itemprop="blogPost">

    <div class="post-card">
        <h1 class="post-card-title">快速发布组件到mavenCentral</h1>
        <div class="post-meta">
            <time class="post-time" title="2021-07-03 13:55:40" datetime="2021-07-03T05:55:40.000Z"  itemprop="datePublished">2021-07-03</time>

            
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/%E5%85%B6%E4%BB%96/">其他</a></li></ul>



            

        </div>
        <div class="post-content" id="post-content" itemprop="postContent">
            <h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>在很久之前写过一篇<a href="https://blog.csdn.net/Rain_9155/article/details/90948189" target="_blank" rel="noopener">发布开源库到jcenter</a>的文章，但不幸的是几个月前Jfrog发布了终止Bintray服务的<a href="https://jfrog.com/blog/into-the-sunset-bintray-jcenter-gocenter-and-chartcenter/" target="_blank" rel="noopener">声明</a>，声明的大概意思是说2021年3月31号之后Jcenter仓库将不再接收用户的组件提交，同时将Jcenter设为只读代码仓库，无限期地提供现有组件供用户下载，也就是说目前Jcenter仓库的状态是你无法再提交组件的更新，但你可以继续下载你以前托管的组件版本，所以现在你要做的就是把你的组件的新版本发布到其他仓库，例如Jitpack和MavenCentral，我曾经写过一篇<a href="https://blog.csdn.net/Rain_9155/article/details/90516026" target="_blank" rel="noopener">快速发布开源库到jitpack</a>的文章，本篇文章的内容是教你如何发布组件到MavenCentral仓库，同时写了一个发布脚本简化发布过程，使用这个脚本之前先看一下本篇文章的前期准备内容。</p>
<p>脚本地址：<a href="https://github.com/rain9155/MavenPublishScript" target="_blank" rel="noopener">MavenPublishScript</a></p>
<h2 id="前期准备"><a href="#前期准备" class="headerlink" title="前期准备"></a>前期准备</h2><p>在讲解之前，有必要介绍一下Sonatype 、OSSRH、MavenCentral之间的关系，<a href="https://www.sonatype.com/" target="_blank" rel="noopener">Sonatype</a>是一间公司，它运营着<a href="https://search.maven.org/" target="_blank" rel="noopener">MavenCentral仓库</a>，我们想要发布组件到MavenCentral，必须要通过Sonatype的OSSRH，OSSRH即OSS Repository Hosting，对象存储仓库托管，Sonatype使用<a href="https://s01.oss.sonatype.org/#welcome" target="_blank" rel="noopener">Nexus Repository Manager</a>为组件提供存储库托管服务，我们发布组件时要先发布到Sonatype OSSRH上，然后才能同步到MavenCentral仓库，就好像我们之前使用Jcenter时，要先发布到Jfrog Bintray上，然后才能同步到Jcenter仓库。</p>
<h3 id="1、注册Sonatype账号"><a href="#1、注册Sonatype账号" class="headerlink" title="1、注册Sonatype账号"></a>1、注册Sonatype账号</h3><p>首先你需要注册一个Sonatype Jira账号，Sonatype使用Jira管理你的groupId申请过程，注册地址如下：</p>
<p><a href="https://issues.sonatype.org/secure/Signup!default.jspa" target="_blank" rel="noopener">Sonatype Jira - Sign up</a></p>
<p>点开注册地址后，如图：</p>
<img src="/2021/07/03/%E5%BF%AB%E9%80%9F%E5%8F%91%E5%B8%83%E7%BB%84%E4%BB%B6%E5%88%B0mavencentral/mavencentral1.png" class="" title="mavencentral">

<p>按要求填入你的邮箱地址、姓名、用户名、密码即可，其中用户名最好不要有中文，记住你的用户名和密码，会在后面用到。</p>
<h3 id="2、申请groupId"><a href="#2、申请groupId" class="headerlink" title="2、申请groupId"></a>2、申请groupId</h3><p>我们平时使用托管在远程仓库的组件时都是通过它的GAV坐标来定位的，GAV即groupId、artifactId、version，其中groupId你可以理解为你自己在Sonatype OSSRH创建的仓库，groupId就是你仓库的名称，申请groupId就是在Sonatype OSSRH申请创建属于你的仓库，我们后面发布组件时要先发布到Sonatype OSSRH上名为groupId的仓库，然后才能同步到MavenCentral仓库。</p>
<p>还有申请的groupId并不是顺便填的，按照Sonatype的要求，groupId必须要是一个<strong>域名的反写</strong>，所以你要拥有一个域名，当你申请groupId时，Sonatype会用某种方式让你证明你是这个域名的所有者。</p>
<p>如果你拥有某个域名，例如example.com域名，你可以使用任何以com.example开头的groupId，例如com.example.test1、com.example.test2等，如果你没有自己的域名也没关系，Sonatype支持代码托管平台的Pages网站域名，例如Github，你可以在你的Github账号上开启你的Pages服务，这样你就拥有了一个与Github账号关联的个人域名，格式为{username}.github.io，例如我的Github Pages网站就是rain9155.github.io，很多人都是利用这种托管在三方平台的网站搭建自己的博客网站，除了Github，Sonatype还支持GitLab、Gitee等，下面表格列出这些常用的代码托管平台Pages服务开启的官方教程地址，和开启后对应的域名和相应的groupId：</p>
<table>
<thead>
<tr>
<th>代码托管平台</th>
<th>Pages服务开启教程地址</th>
<th>域名</th>
<th>groupId</th>
</tr>
</thead>
<tbody><tr>
<td>Github</td>
<td><a href="https://pages.github.com/" target="_blank" rel="noopener">https://pages.github.com/</a></td>
<td>{username}.github.io</td>
<td>io.github.{username}</td>
</tr>
<tr>
<td>Gitee</td>
<td><a href="https://gitee.com/help/articles/4136" target="_blank" rel="noopener">https://gitee.com/help/articles/4136</a></td>
<td>{username}.gitee.io</td>
<td>io.gitee.{username}</td>
</tr>
<tr>
<td>GitLab</td>
<td><a href="https://about.gitlab.com/stages-devops-lifecycle/pages/" target="_blank" rel="noopener">https://about.gitlab.com/stages-devops-lifecycle/pages/</a></td>
<td>{username}.gitlab.io</td>
<td>io.gitlab.{username}</td>
</tr>
</tbody></table>
<p>下面就以我的Github Pages网站域名rain9155.github.io为例，申请名为io.github.rain9155的groupId，首先打开Sonatype Jira网站, 地址如下：</p>
<p><a href="https://issues.sonatype.org/secure/Dashboard.jspa" target="_blank" rel="noopener">Sonatype Jira - Dashboard</a></p>
<p>首次进入需要你登陆，输入你刚才注册的Sonatype Jira用户名和密码登陆，然后就进入Sonatype Jira网站首页，然后点击导航栏的<strong>Create</strong>按钮，此时会弹出一个弹窗，会让你填一些申请groupId时需要的信息，其中Project选择Community Support - Open Source Project Repository Hosting (OSSRH)，Issue Type选择New Project，Summary填一个标题，Group Id就填你要申请的groupId，Project URL随便填一个你的组件仓库地址，SCM url也是随便填一个你的组件仓库版本控制地址，如下：</p>
<img src="/2021/07/03/%E5%BF%AB%E9%80%9F%E5%8F%91%E5%B8%83%E7%BB%84%E4%BB%B6%E5%88%B0mavencentral/mavencentral2.png" class="" title="mavencentral">

<p>最后点击create按钮，它会创建一个issue，issue名称格式为OSSRH-{taskId}，如我这里为OSSRH-69596，你可以在All Projects面板中看到它，然后接下来就是等待Sonatype Jira的邮件通知，邮件会发送到你注册账号时填写的邮箱，它的第一封邮件会叫你在你的Github中创建一个名为OSSRH-{taskId}的空仓库，从而证明你是groupId对应域名的拥有者，当你创建之后，你需要到OSSRH-{taskId}下的comment面板中回复，当你回复后，它又会再发一封邮件给你，告诉你groupId已经申请完毕，此时你可以发布组件到Sonatype OSSRH中，如何发布请看后面的内容，当你发布后，你需要在Sonatype OSSRH中把你的组件同步到MavenCentral后才可以通过GAV引用它，如何同步请看后面的内容，当你同步后，你需要再次到OSSRH-{taskId}下的comment面板中回复，然后Sonatype OSSRH才会为你激活组件同步到MavenCentral的程序，整个交流过程可以参考我<a href="https://issues.sonatype.org/browse/OSSRH-69596" target="_blank" rel="noopener">OSSRH-69596</a>中的comment面板，如下：</p>
<img src="/2021/07/03/%E5%BF%AB%E9%80%9F%E5%8F%91%E5%B8%83%E7%BB%84%E4%BB%B6%E5%88%B0mavencentral/mavencentral3.png" class="" title="mavencentral">

<p>回复的内容是什么不重要，只要你回复了就行，上述就是申请groupId和激活MavenCentral同步的整个流程，只需要在第一次发布组件时进行一次就行，以后发布组件时不需要再进行上面的过程，直接使用该groupId就行。</p>
<h3 id="3、生成gpg签名信息"><a href="#3、生成gpg签名信息" class="headerlink" title="3、生成gpg签名信息"></a>3、生成gpg签名信息</h3><p>Sonatype要求发布到MavenCentral仓库的组件中的每个文件都需要通过<a href="https://www.gnupg.org/" target="_blank" rel="noopener">gpg</a>签名，gpg是一个命令行工具，提供了对数据的签名和加密能力，支持主流的签名和加密算法，并提供了密钥管理系统，要使用gpg签名，我们必须先在电脑上安装gpg，然后使用gpg生成签名需要的密钥对。</p>
<p>我们首先来安装gpg，对于mac电脑，直接通过Homebrew安装就行，在命令行执行：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ brew install gpg</span><br></pre></td></tr></table></figure>

<p>对于window电脑，我们可以下载gpg的执行文件安装，下载地址如下：</p>
<p><a href="https://gpg4win.org/download.html" target="_blank" rel="noopener">gpg download</a></p>
<p>安装完成后，在命令行输入<code>gpg --version</code> 输出gpg的版本信息表示安装完成，如下：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">$ gpg --version</span><br><span class="line">gpg (GnuPG) 2.2.27</span><br><span class="line">libgcrypt 1.8.7</span><br><span class="line">Copyright (C) 2021 g10 Code GmbH</span><br><span class="line">License GNU GPL-3.0-or-later &lt;https://gnu.org/licenses/gpl.html&gt;</span><br><span class="line">This is free software: you are free to change and redistribute it.</span><br><span class="line">There is NO WARRANTY, to the extent permitted by law.</span><br><span class="line"></span><br><span class="line">Home: C:/Users/HY/AppData/Roaming/gnupg</span><br><span class="line">Supported algorithms:</span><br><span class="line">Pubkey: RSA, ELG, DSA, ECDH, ECDSA, EDDSA</span><br><span class="line">Cipher: IDEA, 3DES, CAST5, BLOWFISH, AES, AES192, AES256, TWOFISH,</span><br><span class="line">        CAMELLIA128, CAMELLIA192, CAMELLIA256</span><br><span class="line">Hash: SHA1, RIPEMD160, SHA256, SHA384, SHA512, SHA224</span><br><span class="line">Compression: Uncompressed, ZIP, ZLIB, BZIP2</span><br></pre></td></tr></table></figure>

<p>然后在命令行输入<code>gpg --full-generate-key</code> 进行密钥对生成，这个命令会让你一步步选择生成密钥对需要的信息，如下：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">$ gpg --full-generate-key</span><br><span class="line">gpg (GnuPG) 2.2.27; Copyright (C) 2021 g10 Code GmbH</span><br><span class="line">This is free software: you are free to change and redistribute it.</span><br><span class="line">There is NO WARRANTY, to the extent permitted by law.</span><br><span class="line"></span><br><span class="line">Please select what kind of key you want:</span><br><span class="line">   (1) RSA and RSA (default)</span><br><span class="line">   (2) DSA and Elgamal</span><br><span class="line">   (3) DSA (sign only)</span><br><span class="line">   (4) RSA (sign only)</span><br><span class="line">  (14) Existing key from card</span><br><span class="line">Your selection? 4</span><br><span class="line">RSA keys may be between 1024 and 4096 bits long.</span><br><span class="line">What keysize <span class="keyword">do</span> you want? (3072)</span><br><span class="line">Requested keysize is 3072 bits</span><br><span class="line">Please specify how long the key should be valid.</span><br><span class="line">         0 = key does not expire</span><br><span class="line">      &lt;n&gt;  = key expires <span class="keyword">in</span> n days</span><br><span class="line">      &lt;n&gt;w = key expires <span class="keyword">in</span> n weeks</span><br><span class="line">      &lt;n&gt;m = key expires <span class="keyword">in</span> n months</span><br><span class="line">      &lt;n&gt;y = key expires <span class="keyword">in</span> n years</span><br><span class="line">Key is valid <span class="keyword">for</span>? (0)</span><br><span class="line">Key does not expire at all</span><br><span class="line">Is this correct? (y/N) y</span><br><span class="line"></span><br><span class="line">GnuPG needs to construct a user ID to identify your key.</span><br><span class="line"></span><br><span class="line">Real name: rain9155</span><br><span class="line">Email address: jianyu9155@gmail.com</span><br><span class="line">Comment:</span><br><span class="line">You selected this USER-ID:</span><br><span class="line">    <span class="string">"rain9155 &lt;jianyu9155@gmail.com&gt;"</span></span><br><span class="line"></span><br><span class="line">Change (N)ame, (C)omment, (E)mail or (O)kay/(Q)uit? o</span><br><span class="line">We need to generate a lot of random bytes. It is a good idea to perform</span><br><span class="line">some other action (<span class="built_in">type</span> on the keyboard, move the mouse, utilize the</span><br><span class="line">disks) during the prime generation; this gives the random number</span><br><span class="line">generator a better chance to gain enough entropy.</span><br><span class="line">gpg: key DF7B4B4D1A32FB02 marked as ultimately trusted</span><br><span class="line">gpg: revocation certificate stored as <span class="string">'C:/Users/HY/AppData/Roaming/gnupg/openpgp-revocs.d\9E02D0E104E3D3517B5B0E54DF7B4B4D1A32FB02.rev'</span></span><br><span class="line">public and secret key created and signed.</span><br><span class="line"></span><br><span class="line">Note that this key cannot be used <span class="keyword">for</span> encryption.  You may want to use</span><br><span class="line">the <span class="built_in">command</span> <span class="string">"--edit-key"</span> to generate a subkey <span class="keyword">for</span> this purpose.</span><br><span class="line">pub   rsa3072 2021-07-06 [SC]</span><br><span class="line">      9E02D0E104E3D3517B5B0E54DF7B4B4D1A32FB02</span><br><span class="line">uid                      rain9155 &lt;jianyu9155@gmail.com&gt;</span><br></pre></td></tr></table></figure>

<p>首先它会让你选择算法，我这里选择了RSA，仅用于签名，然后会让你输入密钥长度，默认是3072bits，然后会让你选择密钥的过期时间，我这里选择了永久有效，建议大家也选择永久有效，然后确认信息后会让你输入姓名、邮箱、注释来作为密钥的唯一标识，这里我生成的标识为”rain9155 &lt;<a href="mailto:jianyu9155@gmail.com">jianyu9155@gmail.com</a>&gt;“，最后确认后会弹出一个弹窗让你输入一个密码来保护你的私钥，记住你输入的密码后面会用到，点击确认后看到public and secret key created and signed这句话说明密钥对生成完毕，我们可以通过<code>gpg --list-keys</code>列出生成的公钥信息，通过<code>gpg --list-secret-keys</code>列出生成的私钥信息，但其实列出的信息是类似的，我们以<code>gpg --list-keys</code>为例，如下：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$ gpg --list-keys</span><br><span class="line">gpg: checking the trustdb</span><br><span class="line">gpg: marginals needed: 3  completes needed: 1  trust model: pgp</span><br><span class="line">gpg: depth: 0  valid:   2  signed:   0  trust: 0-, 0q, 0n, 0m, 0f, 2u</span><br><span class="line">C:/Users/HY/AppData/Roaming/gnupg/pubring.kbx</span><br><span class="line">---------------------------------------------</span><br><span class="line">pub   rsa3072 2021-07-06 [SC]</span><br><span class="line">      9E02D0E104E3D3517B5B0E54DF7B4B4D1A32FB02</span><br><span class="line">uid           [ultimate] rain9155 &lt;jianyu9155@gmail.com&gt;</span><br></pre></td></tr></table></figure>

<p>列出的信息首先有公钥的文件位置，这里为C:/Users/HY/AppData/Roaming/gnupg/pubring.kbx，接着是pub rsa3072 2021-07-06 [SC]，表示使用RSA算法，公钥长度为3072bits，创建日期为2021-07-06，接着是长长的一串id值9E02D0E104E3D3517B5B0E54DF7B4B4D1A32FB02，它表示公钥的id，我们使用时只需要用到它的后八位就行，所以我们后面使用这个公钥时只需要使用1A32FB02就行，最后是公钥的唯一标识uid，根据我们前面输入的姓名、邮箱、注释生成。</p>
<p>我们签名只需要用到私钥，而公钥需要上传到公钥服务器，这样我们用私钥签名的文件上传到MavenCenral后，它才能使用公钥验证这个文件，这里我选择了keyserver.ubuntu.com这个公钥服务器，上传公钥的命令格式为<code>gpg --keyserver 公钥服务器地址 --send-keys 公钥id</code>，如下我把刚刚生成的公钥1A32FB02上传到公钥服务器：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ gpg --keyserver keyserver.ubuntu.com --send-keys 1A32FB02</span><br><span class="line">gpg: sending key DF7B4B4D1A32FB02 to hkp://keyserver.ubuntu.com</span><br></pre></td></tr></table></figure>

<p>没有错误提示就表示上传成功，我们还可以使用<code>gpg --keyserver 公钥服务器地址 --recv-keys 公钥id</code>从公钥服务器导入公钥到本地从而验证公钥是否上传成功，如下：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ gpg --keyserver keyserver.ubuntu.com --recv-keys 1A32FB02</span><br><span class="line">gpg: key DF7B4B4D1A32FB02: <span class="string">"rain9155 &lt;jianyu9155@gmail.com&gt;"</span> not changed</span><br><span class="line">gpg: Total number processed: 1</span><br><span class="line">gpg:              unchanged: 1</span><br></pre></td></tr></table></figure>

<p>可以看到导入成功，表示公钥已经成功上传到公钥服务器。</p>
<p>还有最后一步，把私钥导出到一个文件中，这样我们发布组件时才能通过引用这个文件，从而使用私钥进行签名，命令格式为<code>gpg -o 导出的文件路径 --export-secret-key 私钥id</code>，执行导出私钥命令会弹出一个弹窗让你输入私钥密码，输入正确后才能成功导出，如下把私钥导出到名为1A32FB02.gpg的文件中，私钥id和公钥id是一样的：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ gpg -o D:/File/keystore/1A32FB02.gpg --<span class="built_in">export</span>-secret-key 1A32FB02</span><br></pre></td></tr></table></figure>

<p>现在已经成功把私钥导出D:/File/keystore/1A32FB02.gpg中，记住你导出的私钥文件路径，后面会用到。</p>
<h2 id="发布到OSSRH"><a href="#发布到OSSRH" class="headerlink" title="发布到OSSRH"></a>发布到OSSRH</h2><p>现在万事俱备，可以发布组件了，发布组件使用<code>maven-publish</code>插件，我们主要发布的内容有组件的aar或jar文件、sources文件、javadoc文件，pom文件，还有这些文件的签名文件，以.asc为后缀，签名要使用<code>signing</code>插件，为了简化发布过程，我已经把发布过程编写成了一个gradle脚本 - <a href="https://github.com/rain9155/MavenPublishScript" target="_blank" rel="noopener">MavenPublishScript</a>，使用时只需要apply进来，然后填写发布的基本信息，执行发布任务就可以自动生成发布所需的所有文件并发布到OSSRH中，下面简单介绍如何使用这个gradle脚本。</p>
<p>首先在你的组件的build.gradle中apply该脚本：</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apply <span class="string">from:</span> <span class="string">'https://raw.githubusercontent.com/rain9155/MavenPublishScript/main/script/publication.gradle'</span></span><br></pre></td></tr></table></figure>
<p>接下来准备好你在前面注册的Sonatype账号、申请好的groupId、生成好的gpg私钥信息，然后在组件的gradle.properties(没有则创建)中添加组件信息，其中GAV坐标是必填信息，其他是可选信息：</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">### GAV坐标</span><br><span class="line">publish.groupId=io.github.rain9155</span><br><span class="line">publish.artifactId=mavenpublishscript</span><br><span class="line">publish.version=<span class="number">1.0</span><span class="number">.0</span></span><br><span class="line"></span><br><span class="line">### 下面都是可选信息</span><br><span class="line"># 基本描述</span><br><span class="line">publish.description=发布组件到Maven仓库的gradle脚本，支持aar和jar发布</span><br><span class="line">publish.url=<span class="string">https:</span><span class="comment">//github.com/rain9155/MavenPublishScript</span></span><br><span class="line"># 开发者信息</span><br><span class="line">publish.developerName=rain9155</span><br><span class="line">publish.developerEmail=jianyu9155<span class="meta">@gmail</span>.com</span><br><span class="line"># license信息</span><br><span class="line">publish.licenseName=The Apache License, Version <span class="number">2.0</span></span><br><span class="line">publish.licenseUrl=<span class="string">http:</span><span class="comment">//www.apache.org/licenses/LICENSE-2.0.txt</span></span><br><span class="line"># scm信息，格式参考http://maven.apache.org/scm/scm-url-format.html</span><br><span class="line">publish.scmUrl=<span class="string">https:</span><span class="comment">//github.com/rain9155/MavenPublishScript/tree/master</span></span><br><span class="line">publish.scmConnection=<span class="string">scm:</span><span class="string">git:</span><span class="string">git:</span><span class="comment">//github.com/rain9155/MavenPublishScript.git</span></span><br><span class="line">publish.scmDeveloperConnection=<span class="string">scm:</span><span class="string">git:</span><span class="string">ssh:</span><span class="comment">//github.com:rain9155/MavenPublishScript.git</span></span><br><span class="line"># 如果发布的是android组件，当为false时不根据flavor动态生成组件的artifactId，如果你不想组件的artifactId拼接flavorName，可以设置为false，默认为true</span><br><span class="line">publish.artifactId.isAppendFavorName=<span class="literal">false</span></span><br></pre></td></tr></table></figure>
<p>然后在项目根目录的local.properties(没有则创建)中添加gpg签名信息和ossrh账号信息，记得要把local.properties从你的版本控制中移除，避免泄漏你的签名信息和账号信息：</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># gpg签名信息</span><br><span class="line">signing.keyId=你的密钥id，例如<span class="number">1</span>A32FB02</span><br><span class="line">signing.password=你的私钥密码</span><br><span class="line">signing.secretKeyRingFile=你的私钥文件路径，例如<span class="string">D:</span><span class="regexp">/File/</span>keystore/<span class="number">1</span>A32FB02.gpg</span><br><span class="line"></span><br><span class="line"># ossrh账号信息</span><br><span class="line">ossrh.username=你的ossrh账号名，即Sonatype账号用户名</span><br><span class="line">ossrh.password=你的ossrh账号密码，即Sonatype账号密码</span><br></pre></td></tr></table></figure>
<p>最后在命令行执行gradle任务发布组件，如果你发布的是android组件(aar)，执行的任务的名称格式为<code>publish{flavorName}AndroidlibPublicationToMavenRepository</code>或<code>publish{flavorName}AndroidlibPublicationToMavenLocal</code>，其中flavorName为android组件的flavor的名称，首字母大写，没有则不填flavorName，如果你发布的是java组件(jar)，执行的任务名称为<code>publishJavalibPublicationToMavenRepository</code>或<code>publishJavalibPublicationToMavenLocal</code>：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">//发布android组件到maven本地仓库</span><br><span class="line">gradle publishAndroidlibPublicationToMavenLocal</span><br><span class="line"></span><br><span class="line">//发布android组件到maven远程release或snapshot仓库</span><br><span class="line">gradle publishAndroidlibPublicationToMavenRepository</span><br><span class="line"></span><br><span class="line">//假设android组件含有flavorName为china，发布china版本的android组件到maven本地仓库</span><br><span class="line">gradle publishChinaAndroidlibPublicationToMavenLocal</span><br><span class="line"></span><br><span class="line">//假设android组件含有flavorName为oversea，发布oversea版本的android组件到maven远程release或snapshot仓库</span><br><span class="line">gradle publishOverseaAndroidlibPublicationToMavenRepository</span><br><span class="line"></span><br><span class="line">//发布java组件到maven本地仓库</span><br><span class="line">gradle publishJavalibPublicationToMavenLocal</span><br><span class="line"></span><br><span class="line">//发布java组件到maven远程release或snapshot仓库</span><br><span class="line">gradle publishJavalibPublicationToMavenRepository</span><br><span class="line"></span><br><span class="line">//发布所有android组件和java组件到maven本地仓库</span><br><span class="line">gradle publishToMavenLocal</span><br><span class="line"></span><br><span class="line">//发布所有android组件和java组件到maven远程release或snapshot仓库</span><br><span class="line">gradle publishAllPublicationsToMavenRepository</span><br><span class="line"></span><br><span class="line">//发布所有android组件和java组件到maven本地仓库和maven远程release或snapshot仓库</span><br><span class="line">gradle publish</span><br></pre></td></tr></table></figure>

<p>上述发布任务根据组件发布的是android组件(aar)还是java组件(jar)来执行，同时发布android组件时支持flavor发布，publishXXToMavenRepository任务表示发布到远程仓库OSSRH中，publishXXToMavenLocal任务表示发布到maven本地仓库，maven本地仓库路径为{用户目录}/.m2/repository/，也可以在AS左侧的gradle面板中查看这些任务，如下：</p>
<img src="/2021/07/03/%E5%BF%AB%E9%80%9F%E5%8F%91%E5%B8%83%E7%BB%84%E4%BB%B6%E5%88%B0mavencentral/mavencentral4.png" class="" title="mavencentral">

<p>选中合适的任务双击执行就行，如果你执行的是publishXXToMavenRepository任务，任务执行成功后你就可以到<a href="https://s01.oss.sonatype.org/#welcome" target="_blank" rel="noopener">OSSRH</a>查看你发布上去的组件，首次进入需要登陆，输入你的Sonatype用户名和密码登陆，然后点击左下侧的<strong>Staging Repository</strong>就可以看到你发布到OSSRH的组件，如下：</p>
<img src="/2021/07/03/%E5%BF%AB%E9%80%9F%E5%8F%91%E5%B8%83%E7%BB%84%E4%BB%B6%E5%88%B0mavencentral/mavencentral5.png" class="" title="mavencentral">

<p>在Staging Repository的面板中可以浏览你发布的组件，选中它，然后点击下面的content面板就可以查看组件发布的详细文件。</p>
<h2 id="同步到MavenCentral"><a href="#同步到MavenCentral" class="headerlink" title="同步到MavenCentral"></a>同步到MavenCentral</h2><p>组件发布到OSSRH后，还不能通过GAV引用它，还要同步到MavenCentral后才能通过GAV引用它，首先要在OSSRH上<strong>Close</strong>组件，让它从open状态变为close状态，如下：</p>
<img src="/2021/07/03/%E5%BF%AB%E9%80%9F%E5%8F%91%E5%B8%83%E7%BB%84%E4%BB%B6%E5%88%B0mavencentral/mavencentral6.png" class="" title="mavencentral">

<p>当你点击Close按钮后，会弹出一个弹窗叫你确认，确认后Close按钮会变灰，此时下方的Activity面板会显示close过程中进行的规则校验，例如校验你发布的文件是否有签名、是否含有javadoc文件、是否含有sources文件，pom文件是否合格等，当所有校验通过后你才可以同步组件到MavenCentral，当校验通过后你会收到Sonatype发送的邮件，此时你可以点击上方的<strong>Release</strong>按钮同步组件到MavenCentral，如下：</p>
<img src="/2021/07/03/%E5%BF%AB%E9%80%9F%E5%8F%91%E5%B8%83%E7%BB%84%E4%BB%B6%E5%88%B0mavencentral/mavencentral7.png" class="" title="mavencentral">

<p>当你点击Release按钮后，会弹出一个弹窗叫你确认，确认后Release按钮会变灰，如果你是第一次发布组件，在<strong>申请groupId</strong>时我讲过，你还要到OSSRH-{taskid}的comment面板下回复它一次OSSRH才会为你激活同步程序，激活同步程序后大概十几分钟你的组件就会被同步到MavenCentral，这时你就可以在<a href="https://search.maven.org/" target="_blank" rel="noopener">MavenCentral网站</a>搜索到你的组件，并可以在gradle或maven等构建工具中通过GAV引用它，激活同步程序后，你下次Release组件时就会自动同步到MavenCentral而无需再做其他操作。</p>
<h2 id="结语"><a href="#结语" class="headerlink" title="结语"></a>结语</h2><p>发布到MavenCentral的步骤相比于发布到Jitpack要复杂的多，Jitpack只需要一个代码托管仓库账号，而MavenCentral需要准备Sonatype账号、个人域名、签名信息，但是MavenCentral比Jitpack成熟得多，它目前是最大的java组件和其他开源组件的托管仓库，也是很多构建系统如Maven的默认存储仓库，如何选择就看个人爱好了。</p>
<p>以上就是本文的所有内容！</p>
<p>参考资料：</p>
<p><a href="https://developer.android.google.cn/studio/build/jcenter-migration" target="_blank" rel="noopener">JCenter service update</a></p>
<p><a href="https://central.sonatype.org/publish/publish-guide/" target="_blank" rel="noopener">The Central Repository Documentation</a></p>
<p><a href="https://developer.android.com/studio/build/maven-publish-plugin" target="_blank" rel="noopener">Use the Maven Publish plugin</a></p>

        </div>

        <blockquote class="post-copyright">
    
    <div class="content">
        
<span class="post-time">
    最後更新時間：<time datetime="2023-01-07T10:44:49.095Z" itemprop="dateUpdated">2023-01-07 18:44:49</time>
</span><br>


        
        谢谢大家的阅读！
        
    </div>
    
    <footer>
        <a href="http://yoursite.com">
            <img src="/img/avatar.jpg" alt="rain9155">
            rain9155
        </a>
    </footer>
</blockquote>

        
<div class="page-reward">
    <a id="rewardBtn" href="javascript:;" class="page-reward-btn waves-effect waves-circle waves-light">赏</a>
</div>



        <div class="post-footer">
            
	<ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/gradle/" rel="tag">gradle</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/mavenCentral/" rel="tag">mavenCentral</a></li></ul>


            
<div class="page-share-wrap">
    

<div class="page-share" id="pageShare">
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=http://yoursite.com/2021/07/03/%E5%BF%AB%E9%80%9F%E5%8F%91%E5%B8%83%E7%BB%84%E4%BB%B6%E5%88%B0mavencentral/&title=《快速发布组件到mavenCentral》 — jianyu的博客&pic=http://yoursite.com/img/avatar.jpg" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=http://yoursite.com/2021/07/03/%E5%BF%AB%E9%80%9F%E5%8F%91%E5%B8%83%E7%BB%84%E4%BB%B6%E5%88%B0mavencentral/&title=《快速发布组件到mavenCentral》 — jianyu的博客&source=记录我学习的点点滴滴" data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=http://yoursite.com/2021/07/03/%E5%BF%AB%E9%80%9F%E5%8F%91%E5%B8%83%E7%BB%84%E4%BB%B6%E5%88%B0mavencentral/" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《快速发布组件到mavenCentral》 — jianyu的博客&url=http://yoursite.com/2021/07/03/%E5%BF%AB%E9%80%9F%E5%8F%91%E5%B8%83%E7%BB%84%E4%BB%B6%E5%88%B0mavencentral/&via=http://yoursite.com" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=http://yoursite.com/2021/07/03/%E5%BF%AB%E9%80%9F%E5%8F%91%E5%B8%83%E7%BB%84%E4%BB%B6%E5%88%B0mavencentral/" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
    </ul>
 </div>



    <a href="javascript:;" id="shareFab" class="page-share-fab waves-effect waves-circle">
        <i class="icon icon-share-alt icon-lg"></i>
    </a>
</div>



        </div>
    </div>

    
<nav class="post-nav flex-row flex-justify-between">
  
    <div class="waves-block waves-effect prev">
      <a href="/2021/09/23/%E4%BC%98%E9%9B%85%E5%9C%B0%E5%A4%84%E7%90%86%E8%BF%90%E8%A1%8C%E6%97%B6%E6%9D%83%E9%99%90%E8%AF%B7%E6%B1%82/" id="post-prev" class="post-nav-link">
        <div class="tips"><i class="icon icon-angle-left icon-lg icon-pr"></i> Prev</div>
        <h4 class="title">优雅地处理运行时权限请求</h4>
      </a>
    </div>
  

  
    <div class="waves-block waves-effect next">
      <a href="/2021/01/21/%E6%8F%AD%E7%A7%98kotlin%E5%8D%8F%E7%A8%8B%E4%B8%AD%E7%9A%84CoroutineContext/" id="post-next" class="post-nav-link">
        <div class="tips">Next <i class="icon icon-angle-right icon-lg icon-pl"></i></div>
        <h4 class="title">揭秘kotlin协程中的CoroutineContext</h4>
      </a>
    </div>
  
</nav>



    




















</article>

<div id="reward" class="page-modal reward-lay">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <h3 class="reward-title">
        <i class="icon icon-quote-left"></i>
        谢谢打赏!
        <i class="icon icon-quote-right"></i>
    </h3>
    <div class="reward-content">
        
        <div class="reward-code">
            <img id="rewardCode" src="/img/wechat.jpg" alt="打赏二维码">
        </div>
        
        <label class="reward-toggle">
            <input id="rewardToggle" type="checkbox" class="reward-toggle-check"
                data-wechat="/img/wechat.jpg" data-alipay="/img/alipay.jpg">
            <div class="reward-toggle-ctrol">
                <span class="reward-toggle-item wechat">微信</span>
                <span class="reward-toggle-label"></span>
                <span class="reward-toggle-item alipay">支付宝</span>
            </div>
        </label>
        
    </div>
</div>



</div>

        <footer class="footer">
    <div class="top">
        

        <p>
            
                <span><a href="/atom.xml" target="_blank" class="rss" title="rss"><i class="icon icon-lg icon-rss"></i></a></span>
            
            <span>本部落格係採用<a rel="license noopener" href="https://creativecommons.org/licenses/by/4.0/deed.zh_TW" target="_blank">創用 CC 姓名標示 4.0 國際 授權條款授權</a></span>
        </p>
    </div>
    <div class="bottom">
        <p><span>rain9155 &copy; 2018 - 2023</span>
            <span>
                
                Power by <a href="http://hexo.io/" target="_blank">Hexo</a> Theme <a href="https://github.com/yscoder/hexo-theme-indigo" target="_blank">indigo</a>
            </span>
        </p>
    </div>
</footer>

    </main>
    <div class="mask" id="mask"></div>
<a href="javascript:;" id="gotop" class="waves-effect waves-circle waves-light"><span class="icon icon-lg icon-chevron-up"></span></a>



<div class="global-share" id="globalShare">
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=http://yoursite.com/2021/07/03/%E5%BF%AB%E9%80%9F%E5%8F%91%E5%B8%83%E7%BB%84%E4%BB%B6%E5%88%B0mavencentral/&title=《快速发布组件到mavenCentral》 — jianyu的博客&pic=http://yoursite.com/img/avatar.jpg" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=http://yoursite.com/2021/07/03/%E5%BF%AB%E9%80%9F%E5%8F%91%E5%B8%83%E7%BB%84%E4%BB%B6%E5%88%B0mavencentral/&title=《快速发布组件到mavenCentral》 — jianyu的博客&source=记录我学习的点点滴滴" data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=http://yoursite.com/2021/07/03/%E5%BF%AB%E9%80%9F%E5%8F%91%E5%B8%83%E7%BB%84%E4%BB%B6%E5%88%B0mavencentral/" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《快速发布组件到mavenCentral》 — jianyu的博客&url=http://yoursite.com/2021/07/03/%E5%BF%AB%E9%80%9F%E5%8F%91%E5%B8%83%E7%BB%84%E4%BB%B6%E5%88%B0mavencentral/&via=http://yoursite.com" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=http://yoursite.com/2021/07/03/%E5%BF%AB%E9%80%9F%E5%8F%91%E5%B8%83%E7%BB%84%E4%BB%B6%E5%88%B0mavencentral/" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
    </ul>
 </div>


<div class="page-modal wx-share" id="wxShare">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <p>扫一扫，分享到微信</p>
    <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQ4AAAEOCAAAAABd2qZ5AAAD8klEQVR42u3aS27bQBAFQN3/0g6QXQCLfN1vqBhJcSXQ0nCmuGj35/WKr6/f17vP13eSda5/e73m9U5eT1w4cODAgSM46rsrWfr68Mma0xXekSUv6XodHDhw4MBxiqMPirs7O9xktzk3Dhw4cOD4Wxy7BOmaMidLXk/+fRw4cODA8RM48kLe9eF3NbrmqDhw4MCB4/Mcu+DXt6+mgTYP24/XSnHgwIEDR3GipF30kz9/dL4DBw4cOP5jjq9DV5N6JUFx2oLanQ4HDhw4cPQcu/QsH1zYBb+8kLdLPm/2gAMHDhw4ao4k7E1HDfKxtufaSHlxM6qY4sCBAweOYD95ayd5QJ5WXYfJXZMp+etNoMWBAwcOHA9w7BKnaWCbNremYX6Z4OHAgQMHjqMc+VZyxKbM1685Dv84cODAgeMxjqapM03YdhC7kuXNb3HgwIEDR83RFN3yGYDdFnelyX78AgcOHDhwNBxJYpM3cqYtn4Q7b2LtyouDWikOHDhw4Ig5pqnariGUB+YnErxo3AEHDhw4cNQc0+WaoYddi2v33KqVhQMHDhw4Co5+dGAaDvNfTZPAJqmrZiJw4MCBA8cqZ5kW2p5uU01H7gZJJg4cOHDgKDjyrZ8agMvXz9OzXeL3zQ5x4MCBA0fNMW3/5EGuGb+bFvimba1BrRQHDhw4cBQc+ec+tcubW0lA3e3/JqPFgQMHDhwrjmYgoE+x8gB8NtC+XQcHDhw4cBzi6It3u9GE3VOmrallrRQHDhw4cBQc02bSrik1TdXypzR3/riPAwcOHDgOceSBajpA0Ay6NWneblwPBw4cOHCc4siLg3mDpyks5mTJyxg8HQcOHDhwHOKYplhPhMxTwXjaAFv+34EDBw4cOC5jXzOINk2ckheQrzkNz9ELxoEDBw4chzjytGqaaO3aUXlp71Vc36yAAwcOHDgKjl3ythuJy0cZ8qQuD8ZRqMaBAwcOHDVH3rDZEUwH5vJnnRpxSPaPAwcOHDhyjlPDBzlffvjp6F4+TvE2RcSBAwcOHA9znEq6kpJfcj8vZe7GKXDgwIEDxymO3dZ37aJpMJ6iN3vGgQMHDhw9x3SgYTqIME3nToXz3fo4cODAgaPnaPpUu8Lc02lbHvLf/t+BAwcOHDgKjmlYaoqG05Qs+eaUPm+k4cCBAweOhiMJrs1wW9MKysfm8kLhTaDFgQMHDhyHOKYtn90ARD481zwrLwu+rZXiwIEDB44PckxHE/IGUn74ZgzihhUHDhw4cHyQ4+yxdwlhns7tXjMOHDhw4DjFkRQH+9Le9Cn5iEM+TnGT5uHAgQMHjprjuYGGJxLCJ9pdH5rvwIEDB45/n+MXgmAggpRGXxwAAAAASUVORK5CYII=" alt="微信分享二维码">
</div>




    <script src="//cdn.bootcss.com/node-waves/0.7.4/waves.min.js"></script>
<script>
var BLOG = { ROOT: '/', SHARE: true, REWARD: true };


</script>

<script src="/js/main.min.js?v=1.7.2"></script>


<div class="search-panel" id="search-panel">
    <ul class="search-result" id="search-result"></ul>
</div>
<template id="search-tpl">
<li class="item">
    <a href="{path}" class="waves-block waves-effect">
        <div class="title ellipsis" title="{title}">{title}</div>
        <div class="flex-row flex-middle">
            <div class="tags ellipsis">
                {tags}
            </div>
            <time class="flex-col time">{date}</time>
        </div>
    </a>
</li>
</template>

<script src="/js/search.min.js?v=1.7.2" async></script>








<script>
(function() {
    var OriginTitile = document.title, titleTime;
    document.addEventListener('visibilitychange', function() {
        if (document.hidden) {
            document.title = '去哪里了?';
            clearTimeout(titleTime);
        } else {
            document.title = '欢迎光临!';
            titleTime = setTimeout(function() {
                document.title = OriginTitile;
            },2000);
        }
    });
})();
</script>



</body>
</html>
